## [3.2.4](https://github.com/adobe/helix-publish/compare/v3.2.3...v3.2.4) (2020-01-24)


### Bug Fixes

* **package:** include required schemas in deployment ([342d8d2](https://github.com/adobe/helix-publish/commit/342d8d2a44ba73910b84b830ad19c9e6939e9155))

## [3.2.3](https://github.com/adobe/helix-publish/compare/v3.2.2...v3.2.3) (2020-01-24)


### Bug Fixes

* **deps:** update dependency @adobe/helix-epsagon to v1.1.0 ([#294](https://github.com/adobe/helix-publish/issues/294)) ([384c40e](https://github.com/adobe/helix-publish/commit/384c40e3de79224b3e53e4d04d99a08e91246402))

## [3.2.2](https://github.com/adobe/helix-publish/compare/v3.2.1...v3.2.2) (2020-01-24)


### Bug Fixes

* **epsagon:** use helix-epsagon wrapper ([#291](https://github.com/adobe/helix-publish/issues/291)) ([c90a0a3](https://github.com/adobe/helix-publish/commit/c90a0a39bc89fa2ec1a435f0cf4cebcd2e2d3db2))

## [3.2.1](https://github.com/adobe/helix-publish/compare/v3.2.0...v3.2.1) (2020-01-23)


### Bug Fixes

* **deps:** update [@adobe](https://github.com/adobe) ([6350a63](https://github.com/adobe/helix-publish/commit/6350a63fb130902e8b7981c1150c659e022ad19b))

# [3.2.0](https://github.com/adobe/helix-publish/compare/v3.1.6...v3.2.0) (2020-01-22)


### Bug Fixes

* **dependencies:** npm audit fix ([db6ff0f](https://github.com/adobe/helix-publish/commit/db6ff0f806b9b2de68ad2c162dfc3c6a0232c810))
* **query:** load owner and repo from strain ([67e50c6](https://github.com/adobe/helix-publish/commit/67e50c6d26d521a072f2df6337fb6831536e8746))
* **vcl:** add missing semicolon ([cab0e3a](https://github.com/adobe/helix-publish/commit/cab0e3aa874b2b619c650e23d30a0f9a7a0c62c7))
* **vcl:** correctly escape expressions in queries ([de2a447](https://github.com/adobe/helix-publish/commit/de2a447ef52e3cbf865e9b86add6385cda2a863d))
* **vcl:** fix regex for query string parsing ([15ba6e2](https://github.com/adobe/helix-publish/commit/15ba6e2da5ba77cd6b957920de81e5e54f031d94))
* **vcl:** fix typo in query handling ([dbce851](https://github.com/adobe/helix-publish/commit/dbce851112a40842461ae109729e0f5477a8a4ff))
* **vcl:** remove extranous semicolon in generated vcl ([125eaf5](https://github.com/adobe/helix-publish/commit/125eaf546a3f51f5af65ce69dbc579f58ea62439))


### Features

* **query:** pass algolia options to publish function ([b290650](https://github.com/adobe/helix-publish/commit/b2906501054a3296b8914e6d848060baaab7307b))
* **vcl:** add new request type query ([c03aa7e](https://github.com/adobe/helix-publish/commit/c03aa7ecb0d7b56f00aae8500655171043884701))
* **vcl:** generate vcl to wrap query ([bb8a6b0](https://github.com/adobe/helix-publish/commit/bb8a6b08913a7c8d91f85434d93f47e3ba0ba1ae))
* **vcl:** support page and hitsPerPage parameters ([0b39324](https://github.com/adobe/helix-publish/commit/0b393247f1ab260abb919184a92ab4957cd11808))

## [3.1.6](https://github.com/adobe/helix-publish/compare/v3.1.5...v3.1.6) (2020-01-22)


### Bug Fixes

* **deps:** update [@adobe](https://github.com/adobe) ([053d07b](https://github.com/adobe/helix-publish/commit/053d07be2a79591800160887ec9faad547b7b58b))

## [3.1.5](https://github.com/adobe/helix-publish/compare/v3.1.4...v3.1.5) (2020-01-22)


### Bug Fixes

* **deps:** update dependency @adobe/helix-log to v4.5.0 ([a5a7637](https://github.com/adobe/helix-publish/commit/a5a76374af3c8f3fca6bc31dbc845b80e77cfb69))

## [3.1.4](https://github.com/adobe/helix-publish/compare/v3.1.3...v3.1.4) (2020-01-20)


### Bug Fixes

* **deps:** update external ([#285](https://github.com/adobe/helix-publish/issues/285)) ([16c8bf6](https://github.com/adobe/helix-publish/commit/16c8bf67c5895e776196db327dadc691d3ecfd84))

## [3.1.3](https://github.com/adobe/helix-publish/compare/v3.1.2...v3.1.3) (2020-01-16)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v5 ([#283](https://github.com/adobe/helix-publish/issues/283)) ([40b0db1](https://github.com/adobe/helix-publish/commit/40b0db1fdfe5ed487f760cca6df46bc8ac4e158d))

## [3.1.2](https://github.com/adobe/helix-publish/compare/v3.1.1...v3.1.2) (2020-01-16)


### Bug Fixes

* **deps:** update dependency @adobe/openwhisk-action-utils to v4 ([#282](https://github.com/adobe/helix-publish/issues/282)) ([2afb5a2](https://github.com/adobe/helix-publish/commit/2afb5a23a01a6fa8e400b1a0d51fe6b36df9468a))

## [3.1.1](https://github.com/adobe/helix-publish/compare/v3.1.0...v3.1.1) (2020-01-15)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v4.0.1 ([10ad1d1](https://github.com/adobe/helix-publish/commit/10ad1d1811a6caad0ea6a411077df9385b45a8d1))

# [3.1.0](https://github.com/adobe/helix-publish/compare/v3.0.5...v3.1.0) (2020-01-15)


### Bug Fixes

* **vcl:** fix vcl syntax ([1e62dd5](https://github.com/adobe/helix-publish/commit/1e62dd59552f3b6c79a1aaa541c2a25b71f94d05))
* **vcl:** set correct host header for azure blobs and fix regex ([ae926b8](https://github.com/adobe/helix-publish/commit/ae926b83d1f8a4cd43e7d7261562a11369ee50d4))
* **vcl:** surpress chatty headers from Azure ([78000fa](https://github.com/adobe/helix-publish/commit/78000fa438e6f8cb3aa26a87fb0bd5050b0228f5))
* **vcl:** use only path for blob serving, to enable image optimization ([6f2703f](https://github.com/adobe/helix-publish/commit/6f2703f207e9ff2e0398f078d0cbefd617055d2e))


### Features

* **vcl:** add backend for proxying Azure Blob storage ([ff1c8ca](https://github.com/adobe/helix-publish/commit/ff1c8ca892c7a5b5019ac48b7ad4fecb56690539))
* **vcl:** add new request type for blobs ([6eec876](https://github.com/adobe/helix-publish/commit/6eec876788f5e0331c8bfbf681349acf503eab98))

## [3.0.5](https://github.com/adobe/helix-publish/compare/v3.0.4...v3.0.5) (2020-01-14)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v4 ([425a855](https://github.com/adobe/helix-publish/commit/425a8551b0a2e3aef8e8dc2c2d3494f8f52a5c5e))

## [3.0.4](https://github.com/adobe/helix-publish/compare/v3.0.3...v3.0.4) (2020-01-10)


### Bug Fixes

* **vcl:** do not set token auth for github when no token has been provided ([8c098fd](https://github.com/adobe/helix-publish/commit/8c098fd613835e6d311de9c068c56dea0f49a179)), closes [#274](https://github.com/adobe/helix-publish/issues/274)

## [3.0.3](https://github.com/adobe/helix-publish/compare/v3.0.2...v3.0.3) (2020-01-09)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v7.0.3 ([#272](https://github.com/adobe/helix-publish/issues/272)) ([9e9b742](https://github.com/adobe/helix-publish/commit/9e9b742d76de65a9b68af9f6a726117d902e5dc3))

## [3.0.2](https://github.com/adobe/helix-publish/compare/v3.0.1...v3.0.2) (2020-01-09)


### Bug Fixes

* **deps:** update [@adobe](https://github.com/adobe) ([#271](https://github.com/adobe/helix-publish/issues/271)) ([5f660d0](https://github.com/adobe/helix-publish/commit/5f660d02b81e66827b149ef0123589ae37e0fc02))

## [3.0.1](https://github.com/adobe/helix-publish/compare/v3.0.0...v3.0.1) (2020-01-06)


### Bug Fixes

* **deps:** update external ([67c58c9](https://github.com/adobe/helix-publish/commit/67c58c9a1ae2449935f0d42e77221ab72ac5a400))

# [3.0.0](https://github.com/adobe/helix-publish/compare/v2.9.13...v3.0.0) (2020-01-06)


### Features

* **dispatch:** update to dispatch@v3 with dynamic defaults ([796cbd6](https://github.com/adobe/helix-publish/commit/796cbd6fec735c5db0f14d673d0c352a7fbdab51))


### BREAKING CHANGES

* **dispatch:** This changes the default dispatch version from v2 to v3. v3 introduces dynamic defaults (fallback to `default.htnl` in the same folder if file can't be found), which is a breaking change

enables dynamic defaults, see https://github.com/adobe/helix-dispatch/issues/138

## [2.9.13](https://github.com/adobe/helix-publish/compare/v2.9.12...v2.9.13) (2019-12-20)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v3.3.0 ([4295cb4](https://github.com/adobe/helix-publish/commit/4295cb43ddfa94218746e1cfafff587d88ee26e2))

## [2.9.12](https://github.com/adobe/helix-publish/compare/v2.9.11...v2.9.12) (2019-12-20)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v3.2.0 ([72d5837](https://github.com/adobe/helix-publish/commit/72d5837636d25861f7f22db84bb7af9731f2d910))

## [2.9.11](https://github.com/adobe/helix-publish/compare/v2.9.10...v2.9.11) (2019-12-18)


### Bug Fixes

* **deps:** update dependency @adobe/openwhisk-action-logger to v2.0.2 ([0cfaf60](https://github.com/adobe/helix-publish/commit/0cfaf60e629b273f66103ad0ef1009294751f133))

## [2.9.10](https://github.com/adobe/helix-publish/compare/v2.9.9...v2.9.10) (2019-12-18)


### Bug Fixes

* **deps:** update dependency @adobe/helix-log to v4.4.1 ([fd03bbb](https://github.com/adobe/helix-publish/commit/fd03bbb0397bacbb4c3092088555810fc6bccac4))

## [2.9.9](https://github.com/adobe/helix-publish/compare/v2.9.8...v2.9.9) (2019-12-17)


### Bug Fixes

* **deps:** update dependency @adobe/fastly-native-promises to v1.15.0 ([f360ab2](https://github.com/adobe/helix-publish/commit/f360ab2f3d163a0fece8958db5144178bafb060c))

## [2.9.8](https://github.com/adobe/helix-publish/compare/v2.9.7...v2.9.8) (2019-12-16)


### Bug Fixes

* **deps:** update external ([#258](https://github.com/adobe/helix-publish/issues/258)) ([77a53d0](https://github.com/adobe/helix-publish/commit/77a53d0e4e3c41d7d7419f476c36860b657b6d1e))

## [2.9.7](https://github.com/adobe/helix-publish/compare/v2.9.6...v2.9.7) (2019-12-05)


### Bug Fixes

* **deps:** update dependency @adobe/helix-log to v4.4.0 ([7cce0f9](https://github.com/adobe/helix-publish/commit/7cce0f9c341b4760247edd14841760050b3ca9a3))

## [2.9.6](https://github.com/adobe/helix-publish/compare/v2.9.5...v2.9.6) (2019-12-04)


### Bug Fixes

* **deps:** update dependency @adobe/helix-log to v4.3.0 ([70cb290](https://github.com/adobe/helix-publish/commit/70cb2909ab497256f5c2a1f206d2b7d58a4684e2))

## [2.9.5](https://github.com/adobe/helix-publish/compare/v2.9.4...v2.9.5) (2019-12-04)


### Bug Fixes

* **deps:** update dependency @adobe/helix-log to v4.2.0 ([b9d5716](https://github.com/adobe/helix-publish/commit/b9d5716f8202390e2031390a34732d30baedc4cc))

## [2.9.4](https://github.com/adobe/helix-publish/compare/v2.9.3...v2.9.4) (2019-12-02)


### Bug Fixes

* **release:** triggering release ([d029f10](https://github.com/adobe/helix-publish/commit/d029f10b9357bab4d22a44935ab9ba6d4dba2253))

## [2.9.3](https://github.com/adobe/helix-publish/compare/v2.9.2...v2.9.3) (2019-11-25)


### Bug Fixes

* **deps:** pin dependency @adobe/helix-log to 4.1.0 ([1c2d6e5](https://github.com/adobe/helix-publish/commit/1c2d6e5af8e97a068a47c549cd9a465b38b1676b))

## [2.9.2](https://github.com/adobe/helix-publish/compare/v2.9.1...v2.9.2) (2019-11-25)


### Bug Fixes

* **deps:** update dependency @adobe/openwhisk-action-utils to v3 ([#246](https://github.com/adobe/helix-publish/issues/246)) ([c78f9b3](https://github.com/adobe/helix-publish/commit/c78f9b362cb39dfe3b047dc328a010f286850f4f))

## [2.9.1](https://github.com/adobe/helix-publish/compare/v2.9.0...v2.9.1) (2019-11-22)


### Bug Fixes

* **deps:** update dependency @adobe/openwhisk-action-utils to v2.7.3 ([71ba749](https://github.com/adobe/helix-publish/commit/71ba749d39d5eb402d38e1428f42d7d5688bc78a))

# [2.9.0](https://github.com/adobe/helix-publish/compare/v2.8.8...v2.9.0) (2019-11-22)


### Features

* **helix.vcl:** avoid leaking of debug headers ([9ef9966](https://github.com/adobe/helix-publish/commit/9ef996642c43951b4974adcd67feb2b5331213ba))
* **helix.vcl:** avoid leaking of debug headers ([c5f322e](https://github.com/adobe/helix-publish/commit/c5f322e6a57906754b5976db5136b247ee18a358))

## [2.8.8](https://github.com/adobe/helix-publish/compare/v2.8.7...v2.8.8) (2019-11-21)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v7.0.2 ([1d56610](https://github.com/adobe/helix-publish/commit/1d56610dd77a732251fab9faa47e0184b6b66844))

## [2.8.7](https://github.com/adobe/helix-publish/compare/v2.8.6...v2.8.7) (2019-11-20)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v7 ([fd4aa49](https://github.com/adobe/helix-publish/commit/fd4aa49bc7e49c85e0f9e8b65cb2257c63aeb1a8))

## [2.8.6](https://github.com/adobe/helix-publish/compare/v2.8.5...v2.8.6) (2019-11-20)


### Bug Fixes

* **deps:** update dependency @adobe/fastly-native-promises to v1.14.2 ([67cd7fb](https://github.com/adobe/helix-publish/commit/67cd7fb216a33b742384d8b85e00c7ec68b4ed42))

## [2.8.5](https://github.com/adobe/helix-publish/compare/v2.8.4...v2.8.5) (2019-11-16)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v6 ([c07ade4](https://github.com/adobe/helix-publish/commit/c07ade4477b8cf7bd6787551e6872bdea6613175))

## [2.8.4](https://github.com/adobe/helix-publish/compare/v2.8.3...v2.8.4) (2019-11-14)


### Bug Fixes

* **deps:** update dependency @adobe/openwhisk-action-utils to v2.7.2 ([059baf0](https://github.com/adobe/helix-publish/commit/059baf076c94e8c786e39251b8e8d49478ccd75a))

## [2.8.3](https://github.com/adobe/helix-publish/compare/v2.8.2...v2.8.3) (2019-11-12)


### Bug Fixes

* **deps:** update dependency @adobe/openwhisk-action-utils to v2.5.0 ([dc84361](https://github.com/adobe/helix-publish/commit/dc8436142b95df9f91fa5103b73f581a961fbca3))

## [2.8.2](https://github.com/adobe/helix-publish/compare/v2.8.1...v2.8.2) (2019-11-12)


### Bug Fixes

* **deps:** update any ([dd28e0e](https://github.com/adobe/helix-publish/commit/dd28e0ee003c7abbc3d41c9d38318ce65d5934fc))

## [2.8.1](https://github.com/adobe/helix-publish/compare/v2.8.0...v2.8.1) (2019-11-06)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v3.1.2 ([#225](https://github.com/adobe/helix-publish/issues/225)) ([87cc220](https://github.com/adobe/helix-publish/commit/87cc220016e4a5d0db909efb43f7389cd9ce40d8))

# [2.8.0](https://github.com/adobe/helix-publish/compare/v2.7.15...v2.8.0) (2019-10-31)


### Features

* **vcl:** remove `req.entry` for static requests ([#219](https://github.com/adobe/helix-publish/issues/219)) ([2545afd](https://github.com/adobe/helix-publish/commit/2545afdadca61e77a913cca5de5474ae534c4642))

## [2.7.15](https://github.com/adobe/helix-publish/compare/v2.7.14...v2.7.15) (2019-10-30)


### Bug Fixes

* **deps:** update any ([4e43328](https://github.com/adobe/helix-publish/commit/4e43328f38d30a74de975ea2ec93c45ceeef12df))

## [2.7.14](https://github.com/adobe/helix-publish/compare/v2.7.13...v2.7.14) (2019-10-22)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v5.2.0 ([#217](https://github.com/adobe/helix-publish/issues/217)) ([99783be](https://github.com/adobe/helix-publish/commit/99783be))

## [2.7.13](https://github.com/adobe/helix-publish/compare/v2.7.12...v2.7.13) (2019-10-21)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v3.1.0 ([ba2d577](https://github.com/adobe/helix-publish/commit/ba2d577))

## [2.7.12](https://github.com/adobe/helix-publish/compare/v2.7.11...v2.7.12) (2019-10-17)


### Bug Fixes

* **deps:** update any ([#213](https://github.com/adobe/helix-publish/issues/213)) ([2be372b](https://github.com/adobe/helix-publish/commit/2be372b))

## [2.7.11](https://github.com/adobe/helix-publish/compare/v2.7.10...v2.7.11) (2019-10-16)


### Bug Fixes

* **deps:** update dependency @adobe/helix-shared to v3.0.4 ([#210](https://github.com/adobe/helix-publish/issues/210)) ([4440c92](https://github.com/adobe/helix-publish/commit/4440c92))

## [2.7.10](https://github.com/adobe/helix-publish/compare/v2.7.9...v2.7.10) (2019-10-15)


### Bug Fixes

* **deps:** update any ([#208](https://github.com/adobe/helix-publish/issues/208)) ([a596dcb](https://github.com/adobe/helix-publish/commit/a596dcb))

## [2.7.9](https://github.com/adobe/helix-publish/compare/v2.7.8...v2.7.9) (2019-10-08)


### Bug Fixes

* **deps:** update any ([#202](https://github.com/adobe/helix-publish/issues/202)) ([18e1655](https://github.com/adobe/helix-publish/commit/18e1655))

## [2.7.8](https://github.com/adobe/helix-publish/compare/v2.7.7...v2.7.8) (2019-10-07)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v5.1.0 ([5eedc96](https://github.com/adobe/helix-publish/commit/5eedc96))

## [2.7.7](https://github.com/adobe/helix-publish/compare/v2.7.6...v2.7.7) (2019-10-05)


### Bug Fixes

* **deps:** update dependency @adobe/helix-status to v5.0.2 ([#198](https://github.com/adobe/helix-publish/issues/198)) ([729e3f3](https://github.com/adobe/helix-publish/commit/729e3f3))

## [2.7.6](https://github.com/adobe/helix-publish/compare/v2.7.5...v2.7.6) (2019-10-05)


### Bug Fixes

* **deploy:** fix semantic release ([27eb8f6](https://github.com/adobe/helix-publish/commit/27eb8f6))
* **deploy:** use correct version field ([5d5b955](https://github.com/adobe/helix-publish/commit/5d5b955))
* **deploy:** use helix-services-private ([ee4765e](https://github.com/adobe/helix-publish/commit/ee4765e))

## [2.7.5](https://github.com/adobe/helix-publish/compare/v2.7.4...v2.7.5) (2019-10-02)


### Bug Fixes

* **deps:** update any ([#190](https://github.com/adobe/helix-publish/issues/190)) ([7d5218a](https://github.com/adobe/helix-publish/commit/7d5218a))

## [2.7.4](https://github.com/adobe/helix-publish/compare/v2.7.3...v2.7.4) (2019-09-30)


### Bug Fixes

* **deps:** update any ([4ec8cbf](https://github.com/adobe/helix-publish/commit/4ec8cbf))

## [2.7.3](https://github.com/adobe/helix-publish/compare/v2.7.2...v2.7.3) (2019-09-30)


### Bug Fixes

* **package:** update @adobe/helix-status to version 5.0.1 ([502c59e](https://github.com/adobe/helix-publish/commit/502c59e))

## [2.7.2](https://github.com/adobe/helix-publish/compare/v2.7.1...v2.7.2) (2019-09-30)


### Bug Fixes

* **deps:** update dependencies ([7d6af28](https://github.com/adobe/helix-publish/commit/7d6af28))

## [2.7.1](https://github.com/adobe/helix-publish/compare/v2.7.0...v2.7.1) (2019-09-27)


### Bug Fixes

* **package:** update @adobe/helix-status to version 4.3.6 ([4d8be1d](https://github.com/adobe/helix-publish/commit/4d8be1d)), closes [#181](https://github.com/adobe/helix-publish/issues/181)

# [2.7.0](https://github.com/adobe/helix-publish/compare/v2.6.2...v2.7.0) (2019-09-23)


### Features

* **pub:** protect X-Debug with key ([#177](https://github.com/adobe/helix-publish/issues/177)) ([e0de6ad](https://github.com/adobe/helix-publish/commit/e0de6ad))

## [2.6.2](https://github.com/adobe/helix-publish/compare/v2.6.1...v2.6.2) (2019-09-04)


### Bug Fixes

* **package:** update @adobe/helix-status to version 4.3.3 ([792be5d](https://github.com/adobe/helix-publish/commit/792be5d))

## [2.6.1](https://github.com/adobe/helix-publish/compare/v2.6.0...v2.6.1) (2019-09-04)


### Bug Fixes

* **monitoring:** upgrade to fixed @adobe/helix-status version 4.3.3 ([ace0e1f](https://github.com/adobe/helix-publish/commit/ace0e1f))

# [2.6.0](https://github.com/adobe/helix-publish/compare/v2.5.5...v2.6.0) (2019-09-03)


### Features

* **vcl:** pass github token via header on backend request ([622c886](https://github.com/adobe/helix-publish/commit/622c886))

## [2.5.5](https://github.com/adobe/helix-publish/compare/v2.5.4...v2.5.5) (2019-09-03)


### Bug Fixes

* **package:** update @adobe/helix-status to version 4.3.1 ([b1e958a](https://github.com/adobe/helix-publish/commit/b1e958a)), closes [#170](https://github.com/adobe/helix-publish/issues/170)

## [2.5.4](https://github.com/adobe/helix-publish/compare/v2.5.3...v2.5.4) (2019-09-02)


### Bug Fixes

* **package:** update @adobe/fastly-native-promises to version 1.13.0 ([9605153](https://github.com/adobe/helix-publish/commit/9605153))

## [2.5.3](https://github.com/adobe/helix-publish/compare/v2.5.2...v2.5.3) (2019-09-02)


### Bug Fixes

* **package:** update @adobe/helix-shared to version 2.2.1 ([f2e06f4](https://github.com/adobe/helix-publish/commit/f2e06f4))

## [2.5.2](https://github.com/adobe/helix-publish/compare/v2.5.1...v2.5.2) (2019-08-28)


### Bug Fixes

* **package:** update @adobe/helix-shared to version 2.2.0 ([5c2fcba](https://github.com/adobe/helix-publish/commit/5c2fcba))

## [2.5.1](https://github.com/adobe/helix-publish/compare/v2.5.0...v2.5.1) (2019-08-26)


### Bug Fixes

* **monitoring:** upgrade epsagon and hide more params ([a1375c7](https://github.com/adobe/helix-publish/commit/a1375c7))

# [2.5.0](https://github.com/adobe/helix-publish/compare/v2.4.1...v2.5.0) (2019-08-22)


### Features

* **dispatch:** use released dispatch version instead of latest ([2de2109](https://github.com/adobe/helix-publish/commit/2de2109)), closes [/github.com/adobe/helix-publish/issues/128#issuecomment-513220213](https://github.com//github.com/adobe/helix-publish/issues/128/issues/issuecomment-513220213) [#128](https://github.com/adobe/helix-publish/issues/128) [#129](https://github.com/adobe/helix-publish/issues/129)

## [2.4.1](https://github.com/adobe/helix-publish/compare/v2.4.0...v2.4.1) (2019-08-22)


### Bug Fixes

* **vlc:** ensure that static redirect is handled before errors ([b1d7065](https://github.com/adobe/helix-publish/commit/b1d7065))

# [2.4.0](https://github.com/adobe/helix-publish/compare/v2.3.2...v2.4.0) (2019-08-21)


### Features

* **monitoring:** upgrade monitoring library to support JSON status ([bb84c7a](https://github.com/adobe/helix-publish/commit/bb84c7a))

## [2.3.2](https://github.com/adobe/helix-publish/compare/v2.3.1...v2.3.2) (2019-08-20)


### Bug Fixes

* **package:** update @adobe/fastly-native-promises to version 1.12.0 ([6f273f8](https://github.com/adobe/helix-publish/commit/6f273f8))

## [2.3.1](https://github.com/adobe/helix-publish/compare/v2.3.0...v2.3.1) (2019-08-19)


### Bug Fixes

* **package:** update @adobe/openwhisk-action-builder to version 2.0.0 ([a600a2a](https://github.com/adobe/helix-publish/commit/a600a2a))

# [2.3.0](https://github.com/adobe/helix-publish/compare/v2.2.6...v2.3.0) (2019-07-31)


### Bug Fixes

* **monitoring:** hide Epsagon and Fastly token from Epsagon ([9aaed69](https://github.com/adobe/helix-publish/commit/9aaed69))


### Features

* **vcl:** add `all` as a surrogate key header value to all requests for better soft purges ([eff8c9c](https://github.com/adobe/helix-publish/commit/eff8c9c)), closes [#152](https://github.com/adobe/helix-publish/issues/152)

## [2.2.6](https://github.com/adobe/helix-publish/compare/v2.2.5...v2.2.6) (2019-07-30)


### Bug Fixes

* **package:** update @adobe/fastly-native-promises to version 1.11.0 ([7923e74](https://github.com/adobe/helix-publish/commit/7923e74))

## [2.2.5](https://github.com/adobe/helix-publish/compare/v2.2.4...v2.2.5) (2019-07-26)


### Bug Fixes

* **package:** update @adobe/helix-pingdom-status to version 3.0.0 ([ecf1b22](https://github.com/adobe/helix-publish/commit/ecf1b22))

## [2.2.4](https://github.com/adobe/helix-publish/compare/v2.2.3...v2.2.4) (2019-07-24)


### Bug Fixes

* **package:** update @adobe/helix-pingdom-status to version 2.0.0 ([93e640a](https://github.com/adobe/helix-publish/commit/93e640a))

## [2.2.3](https://github.com/adobe/helix-publish/compare/v2.2.2...v2.2.3) (2019-07-19)


### Bug Fixes

* **vcl:** don't send synthetic errors for esi sub-requests ([#143](https://github.com/adobe/helix-publish/issues/143)) ([979b8b9](https://github.com/adobe/helix-publish/commit/979b8b9)), closes [#132](https://github.com/adobe/helix-publish/issues/132)

## [2.2.2](https://github.com/adobe/helix-publish/compare/v2.2.1...v2.2.2) (2019-07-16)


### Bug Fixes

* **dispatch:** add params.rootPath ([#140](https://github.com/adobe/helix-publish/issues/140)) ([9ef4f36](https://github.com/adobe/helix-publish/commit/9ef4f36)), closes [#139](https://github.com/adobe/helix-publish/issues/139)

## [2.2.1](https://github.com/adobe/helix-publish/compare/v2.2.0...v2.2.1) (2019-07-07)


### Bug Fixes

* **package:** update dependencies ([009573f](https://github.com/adobe/helix-publish/commit/009573f))
* **pingdom:** improve error reporting. ([04b56f0](https://github.com/adobe/helix-publish/commit/04b56f0))

# [2.2.0](https://github.com/adobe/helix-publish/compare/v2.1.0...v2.2.0) (2019-07-04)


### Features

* **dispatch:** allow dynamic version of the dispatch url ([#130](https://github.com/adobe/helix-publish/issues/130)) ([32f8645](https://github.com/adobe/helix-publish/commit/32f8645))

# [2.1.0](https://github.com/adobe/helix-publish/compare/v2.0.1...v2.1.0) (2019-07-04)


### Features

* **dispatch:** use latest instead of v1 ([0b564a2](https://github.com/adobe/helix-publish/commit/0b564a2))
* **dispatch:** use latest instead of v1 ([3384c85](https://github.com/adobe/helix-publish/commit/3384c85))

## [2.0.1](https://github.com/adobe/helix-publish/compare/v2.0.0...v2.0.1) (2019-07-03)


### Bug Fixes

* **vcl:** Avoid multiple requests if resource is not found and fix error page handling. ([#126](https://github.com/adobe/helix-publish/issues/126)) ([1b05bd1](https://github.com/adobe/helix-publish/commit/1b05bd1)), closes [#125](https://github.com/adobe/helix-publish/issues/125)

# [2.0.0](https://github.com/adobe/helix-publish/compare/v1.0.3...v2.0.0) (2019-06-26)


### Bug Fixes

* **error:** fix remaining resp ([d89b2f6](https://github.com/adobe/helix-publish/commit/d89b2f6))
* **error:** separate error handler from raw handler ([00beb7a](https://github.com/adobe/helix-publish/commit/00beb7a))
* **error:** use http.host ([03b4ec3](https://github.com/adobe/helix-publish/commit/03b4ec3))
* **error:** use new error subroutin ([29cac81](https://github.com/adobe/helix-publish/commit/29cac81))
* **error:** use resp instead of beresp in error delivery ([dab068b](https://github.com/adobe/helix-publish/commit/dab068b))
* **package:** add missing error pages ([ebcf05c](https://github.com/adobe/helix-publish/commit/ebcf05c))
* **raw:** set correct content type for popular file endings ([1455d3f](https://github.com/adobe/helix-publish/commit/1455d3f))
* **raw:** set correct content type for raw HTML responses ([fafd955](https://github.com/adobe/helix-publish/commit/fafd955))
* **static:** use the versioned shared static function ([2e18192](https://github.com/adobe/helix-publish/commit/2e18192))
* **vcl:** add missing equals sign for request parameters ([c238503](https://github.com/adobe/helix-publish/commit/c238503))
* **vcl:** always use HTML for error pages ([dec8b51](https://github.com/adobe/helix-publish/commit/dec8b51))
* **vcl:** fix data flow error ([22897d1](https://github.com/adobe/helix-publish/commit/22897d1))
* **vcl:** fix req.http.X-Action-Root ([c6c7e7d](https://github.com/adobe/helix-publish/commit/c6c7e7d))
* **vcl:** fix syntax error ([e28ec3d](https://github.com/adobe/helix-publish/commit/e28ec3d))
* **vcl:** fix syntax error ([6825bae](https://github.com/adobe/helix-publish/commit/6825bae))
* **vcl:** fix syntax error ([1fe37f2](https://github.com/adobe/helix-publish/commit/1fe37f2))
* **vcl:** fix syntax error ([b0b9829](https://github.com/adobe/helix-publish/commit/b0b9829))
* **vcl:** fix syntax error ([ebf0807](https://github.com/adobe/helix-publish/commit/ebf0807))
* **vcl:** fix syntax error ([d8afe05](https://github.com/adobe/helix-publish/commit/d8afe05))
* **vcl:** move error from fetch to deliver ([061fa10](https://github.com/adobe/helix-publish/commit/061fa10))
* **vcl:** relax conditions for 302 and url extensions ([8da5e1e](https://github.com/adobe/helix-publish/commit/8da5e1e))
* **vcl:** remove error request type ([9c72d4b](https://github.com/adobe/helix-publish/commit/9c72d4b))
* **vcl:** remove unused error subroutine ([a58e8e0](https://github.com/adobe/helix-publish/commit/a58e8e0))
* **vcl:** remove unused raw function ([9fb2e05](https://github.com/adobe/helix-publish/commit/9fb2e05))
* **vcl:** remove unused subroutines ([1cbdec4](https://github.com/adobe/helix-publish/commit/1cbdec4))
* **vcl:** shut up chatty headers ([31fcc7c](https://github.com/adobe/helix-publish/commit/31fcc7c))
* **vlc:** don't drop out of error handler function ([35a9f81](https://github.com/adobe/helix-publish/commit/35a9f81))


### Features

* **static:** Give content repository precedence in serving resources and error pages ([bf8cbae](https://github.com/adobe/helix-publish/commit/bf8cbae)), closes [#96](https://github.com/adobe/helix-publish/issues/96)
* **vcl:** introduce new dispatch flow ([53a3dbe](https://github.com/adobe/helix-publish/commit/53a3dbe)), closes [#96](https://github.com/adobe/helix-publish/issues/96) [#105](https://github.com/adobe/helix-publish/issues/105) [#96](https://github.com/adobe/helix-publish/issues/96)


### BREAKING CHANGES

* **static:** As described in #96, this introduces a new request type `raw` which works like the old `image` request type, but applies to all resources. In case `raw` fails, we will fall back to `pipeline`, which will fall back to `static` which will fall back to `error`. `error` is very similar to `raw` in that it tries to fetch an error page like `404.html` from the content repository

## [1.0.3](https://github.com/adobe/helix-publish/compare/v1.0.2...v1.0.3) (2019-06-25)


### Bug Fixes

* **bundle:** use different approach to access files ([845c0d9](https://github.com/adobe/helix-publish/commit/845c0d9))
* **vcl.js:** use different approach to detect webpack ([c356c1b](https://github.com/adobe/helix-publish/commit/c356c1b))

## [1.0.2](https://github.com/adobe/helix-publish/compare/v1.0.1...v1.0.2) (2019-06-25)


### Bug Fixes

* **dependencies:** move epsagon from dev to real dependencies ([99a9629](https://github.com/adobe/helix-publish/commit/99a9629))

## [1.0.1](https://github.com/adobe/helix-publish/compare/v1.0.0...v1.0.1) (2019-06-25)


### Bug Fixes

* **build:** include missing VCL and HTML files in deployment bundle ([17aa8ee](https://github.com/adobe/helix-publish/commit/17aa8ee))

# 1.0.0 (2019-06-24)


### Bug Fixes

* **static:** process ESI for static resources, too ([8ea480d](https://github.com/adobe/helix-publish/commit/8ea480d))
* .snyk & package.json to reduce vulnerabilities ([d68bf41](https://github.com/adobe/helix-publish/commit/d68bf41))
* .snyk & package.json to reduce vulnerabilities ([c2314e5](https://github.com/adobe/helix-publish/commit/c2314e5))
* **deploy:** use nodejs:10 container ([b64541e](https://github.com/adobe/helix-publish/commit/b64541e)), closes [#55](https://github.com/adobe/helix-publish/issues/55)
* **dictionaries:** set missing directory index ([ef56581](https://github.com/adobe/helix-publish/commit/ef56581)), closes [#59](https://github.com/adobe/helix-publish/issues/59)
* **linting:** linting again... ([b496576](https://github.com/adobe/helix-publish/commit/b496576))
* **linting:** linting... ([275494f](https://github.com/adobe/helix-publish/commit/275494f))
* **monitoring:** remove epsagon token from source code ([be35e31](https://github.com/adobe/helix-publish/commit/be35e31))
* **package:** update @adobe/fastly-native-promises to version 1.10.0 ([258c5eb](https://github.com/adobe/helix-publish/commit/258c5eb))
* **package:** update @adobe/fastly-native-promises to version 1.4.0 ([c29ed05](https://github.com/adobe/helix-publish/commit/c29ed05))
* **package:** update @adobe/fastly-native-promises to version 1.6.0 ([dba6bd0](https://github.com/adobe/helix-publish/commit/dba6bd0)), closes [#17](https://github.com/adobe/helix-publish/issues/17)
* **package:** update @adobe/fastly-native-promises to version 1.6.1 ([8b755ae](https://github.com/adobe/helix-publish/commit/8b755ae))
* **package:** update @adobe/fastly-native-promises to version 1.7.0 ([8955790](https://github.com/adobe/helix-publish/commit/8955790))
* **package:** update @adobe/fastly-native-promises to version 1.8.0 ([23c37eb](https://github.com/adobe/helix-publish/commit/23c37eb))
* **package:** update @adobe/fastly-native-promises to version 1.9.0 ([68c16f6](https://github.com/adobe/helix-publish/commit/68c16f6))
* **package:** update @adobe/fastly-native-promises to version 1.9.1 ([de465f3](https://github.com/adobe/helix-publish/commit/de465f3))
* **package:** update @adobe/helix-shared to version 0.10.3 ([7c9caef](https://github.com/adobe/helix-publish/commit/7c9caef))
* **package:** update @adobe/helix-shared to version 0.10.4 ([d4b5e92](https://github.com/adobe/helix-publish/commit/d4b5e92))
* **package:** update @adobe/helix-shared to version 0.10.5 ([fd67213](https://github.com/adobe/helix-publish/commit/fd67213))
* **package:** update @adobe/helix-shared to version 0.11.0 ([d976bcb](https://github.com/adobe/helix-publish/commit/d976bcb))
* **package:** update @adobe/helix-shared to version 0.6.2 ([20703f3](https://github.com/adobe/helix-publish/commit/20703f3))
* **package:** update @adobe/helix-shared to version 0.7.0 ([d49ba13](https://github.com/adobe/helix-publish/commit/d49ba13))
* **package:** update @adobe/helix-shared to version 0.8.0 ([4731732](https://github.com/adobe/helix-publish/commit/4731732))
* **package:** update @adobe/helix-shared to version 0.8.1 ([024f137](https://github.com/adobe/helix-publish/commit/024f137))
* **package:** update @adobe/helix-shared to version 0.8.3 ([6dd418b](https://github.com/adobe/helix-publish/commit/6dd418b))
* **package:** update @adobe/helix-shared to version 0.8.4 ([feaf8eb](https://github.com/adobe/helix-publish/commit/feaf8eb))
* **package:** update @adobe/helix-shared to version 1.0.1 ([ffad201](https://github.com/adobe/helix-publish/commit/ffad201)), closes [#67](https://github.com/adobe/helix-publish/issues/67)
* **package:** update @adobe/helix-shared to version 1.0.2 ([f3c27b6](https://github.com/adobe/helix-publish/commit/f3c27b6))
* **package:** update @adobe/helix-shared to version 1.1.1 ([c1bf275](https://github.com/adobe/helix-publish/commit/c1bf275))
* **package:** update @adobe/helix-shared to version 1.2.0 ([41faf50](https://github.com/adobe/helix-publish/commit/41faf50))
* **package:** update @adobe/helix-shared to version 1.3.1 ([d002710](https://github.com/adobe/helix-publish/commit/d002710))
* **package:** update @adobe/helix-shared to version 1.5.0 ([1a61355](https://github.com/adobe/helix-publish/commit/1a61355))
* **package:** update fs-extra to version 8.0.1 ([cffa67c](https://github.com/adobe/helix-publish/commit/cffa67c))
* **package:** update glob-to-regexp to version 0.4.1 ([5b0782f](https://github.com/adobe/helix-publish/commit/5b0782f))
* **proxy:** Don't attempt to recover from 404 errors in proxy strains ([8b84690](https://github.com/adobe/helix-publish/commit/8b84690)), closes [#75](https://github.com/adobe/helix-publish/issues/75)
* **proxy:** prevent duplicate creation of backends for proxy strains ([c157e8b](https://github.com/adobe/helix-publish/commit/c157e8b))
* **proxy:** use FastlyJSON when talking to Fastly API ([9d40b93](https://github.com/adobe/helix-publish/commit/9d40b93))
* **static:** add missing slash to GitHub raw URL ([c07f401](https://github.com/adobe/helix-publish/commit/c07f401))
* **static:** disable GZip for all backend requests that could contain ESI ([393ae0a](https://github.com/adobe/helix-publish/commit/393ae0a))
* **static:** don't redeclare var ([3f23556](https://github.com/adobe/helix-publish/commit/3f23556))
* **static:** drop accept-encoding to enforce esi ([2729f64](https://github.com/adobe/helix-publish/commit/2729f64))
* **static:** enable compression for ESI-processed resources ([0eaf027](https://github.com/adobe/helix-publish/commit/0eaf027))
* **static:** fix syntax error ([852969a](https://github.com/adobe/helix-publish/commit/852969a))
* **static:** fix syntax error ([82949b0](https://github.com/adobe/helix-publish/commit/82949b0))
* **static:** fix syntax error ([d22c465](https://github.com/adobe/helix-publish/commit/d22c465))
* **static:** fix variable name ([cbb125e](https://github.com/adobe/helix-publish/commit/cbb125e))
* **static:** fix VCL syntax error ([db4c524](https://github.com/adobe/helix-publish/commit/db4c524))
* **static:** fix VCL syntax error ([76749d6](https://github.com/adobe/helix-publish/commit/76749d6))
* **static:** handle immutable requests without restart ([79c0ba7](https://github.com/adobe/helix-publish/commit/79c0ba7))
* **static:** move esi handling into fetch ([46bc081](https://github.com/adobe/helix-publish/commit/46bc081))
* **static:** never use GZip when talking with Runtime, as there might be ESI ([21ce4a1](https://github.com/adobe/helix-publish/commit/21ce4a1))
* **static:** no slash between ref and path in static retrieval ([209cd7f](https://github.com/adobe/helix-publish/commit/209cd7f))
* **static:** protect against cache poisoning by verifying the etag ([1bc1e24](https://github.com/adobe/helix-publish/commit/1bc1e24))
* **static:** remove brackets in URL ([4009ff5](https://github.com/adobe/helix-publish/commit/4009ff5))
* **static:** restrict regex for immutable resources ([c71043f](https://github.com/adobe/helix-publish/commit/c71043f))
* **static:** strip 302 from URL when requesting a redirect ([fd5a5db](https://github.com/adobe/helix-publish/commit/fd5a5db))
* **static:** submit location headers for redirects, making actual redirects possible ([615bf33](https://github.com/adobe/helix-publish/commit/615bf33))
* **static:** throw error for invalid resource paths ([92d4c82](https://github.com/adobe/helix-publish/commit/92d4c82))
* **static:** turn on ESI processing when backend response requests it ([5459d30](https://github.com/adobe/helix-publish/commit/5459d30))
* **static:** unset Accept-Encoding more aggressively ([df42f20](https://github.com/adobe/helix-publish/commit/df42f20))
* **static:** use beresp instead of resp for ETag value ([112796d](https://github.com/adobe/helix-publish/commit/112796d))
* **static:** use correct location header ([5d1f8c7](https://github.com/adobe/helix-publish/commit/5d1f8c7))
* **static:** use correct path for entry for immutable resources ([c66f15f](https://github.com/adobe/helix-publish/commit/c66f15f))
* **static:** use local var for new extension ([c995533](https://github.com/adobe/helix-publish/commit/c995533))
* **static:** use re instead of req ([245b583](https://github.com/adobe/helix-publish/commit/245b583))
* **static:** use req for tracing instead of resp ([806d48d](https://github.com/adobe/helix-publish/commit/806d48d))
* **vcl:** bum version ([73d3f8e](https://github.com/adobe/helix-publish/commit/73d3f8e))
* **vcl:** copyright & unrelated change ([e88ed93](https://github.com/adobe/helix-publish/commit/e88ed93))
* **vcl:** include must be outside of a subroutine ([cef774f](https://github.com/adobe/helix-publish/commit/cef774f))
* **vcl:** is line break required ? ([67080b2](https://github.com/adobe/helix-publish/commit/67080b2))
* **vcl:** is linebreak required? ([9cc1ea2](https://github.com/adobe/helix-publish/commit/9cc1ea2))
* **vcl:** remove unnecessary line breaks ([8502341](https://github.com/adobe/helix-publish/commit/8502341))
* **vcl:** respect remapped url also in static ([f404c4d](https://github.com/adobe/helix-publish/commit/f404c4d)), closes [#101](https://github.com/adobe/helix-publish/issues/101)


### Features

* **monitoring:** add epsagon wrapper ([2d52627](https://github.com/adobe/helix-publish/commit/2d52627)), closes [#104](https://github.com/adobe/helix-publish/issues/104)
* **proxy:** make proxy strains respect the URL path and backend path ([ff77ba7](https://github.com/adobe/helix-publish/commit/ff77ba7))
* **static:** enable asset statification for assets loaded from static URLs ([befc1e2](https://github.com/adobe/helix-publish/commit/befc1e2))
* **static:** provide two new resource types for static resources: .esi to replace a static URL with a cacheable static URL and .hlx_[0-9a-f]+ for resources that are cached forever in the browser ([9f8e52c](https://github.com/adobe/helix-publish/commit/9f8e52c)), closes [/github.com/adobe/helix-pipeline/issues/224#issuecomment-476690621](https://github.com//github.com/adobe/helix-pipeline/issues/224/issues/issuecomment-476690621)
* **static:** rename static-esi to static-url, introduce static-302 which returns a redirect ([403ae1b](https://github.com/adobe/helix-publish/commit/403ae1b)), closes [/github.com/adobe/helix-publish/pull/61#issuecomment-487664612](https://github.com//github.com/adobe/helix-publish/pull/61/issues/issuecomment-487664612)
* **vcl:** Add extensions.vcl ([ae1b52c](https://github.com/adobe/helix-publish/commit/ae1b52c))
* **vcl:** add more extension points ([979cfbe](https://github.com/adobe/helix-publish/commit/979cfbe))
* **vcl:** Add more extension points ([3dee07e](https://github.com/adobe/helix-publish/commit/3dee07e))
* **vcl:** Documentation ([902f6f3](https://github.com/adobe/helix-publish/commit/902f6f3))
* **vcl:** Support Custom VCL ([b2ca735](https://github.com/adobe/helix-publish/commit/b2ca735))
* **vcl:** testing extension logic ([717c192](https://github.com/adobe/helix-publish/commit/717c192))
* **vcl:** Tests for synthetize method ([71bcd2d](https://github.com/adobe/helix-publish/commit/71bcd2d))


### Performance Improvements

* **static:** declare static files to be immutable ([f0369b7](https://github.com/adobe/helix-publish/commit/f0369b7))


### BREAKING CHANGES

* **proxy:** changes root paths of all proxy strains - fixes #64
